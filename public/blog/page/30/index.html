
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Zientzilaria</title>
  <meta name="author" content="Paulo Nuin">

  
  <meta name="description" content="Last post I introduced svn-time-lapse, which is already in version 1.3. Jon included the option to view only the changes what I think might be an &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zientzilaria.heroku.com/blog/page/30">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Zientzilaria" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30723948-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Zientzilaria</a></h1>
  
    <h2>The most influential bioinformatician in the world (TM)</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zientzilaria.heroku.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/24/using-subversion-and-svn-time-lapse-to-edit-a-manuscript-take-2-a-short-tutorial/">Using subversion and svn-time-lapse to edit a manuscript, take 2, a short tutorial - PART I</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-24T22:25:26-04:00" pubdate data-updated="true">Oct 24<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last post I introduced svn-time-lapse, which is already in <a href="http://svn-time-lapse-view.googlecode.com/files/svn-time-lapse-view-1.3.zip">version 1.3</a>. Jon included the option to view only the changes what I think might be an extra advantage when you are editing a manuscript. I outline here a small tutorial on how to edit a manuscript with subversion and svn-time-lapse. This is based on a Windows system, but it can be used with small changes for Linux, which has the advantage of having (most of the time) subversion installed.</p>

<p>(Be aware that this won&#8217;t work for Word files, you need to be using a text based, ie Latex, document)</p>

<p>First you need to <a href="http://tortoisesvn.net/downloads">download </a>and install the TortoiseSVN interface for Windows. After installing it, the Windows Explorer right-click menu will have some extra options, as can be seen on the figure below.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn1.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn1.png" alt="svn1.png" /></a></p>

<p>Checkout allows you to get the source from a repository, while TortoiseSVN gives a list of features to use with subversion. Now, we need to create a directory where the manuscript repository is going to reside. You can create the repository in any place, online, locally, etc. But if you don&#8217;t have an online place to create it, I suggest to create underneath a Documents type of location. On Windows you can create a new folder inside the (My) Documents directory. So, make the new folder <strong>manuscript</strong>. <a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn2.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn2.png" alt="svn2.png" /></a></p>

<p>and the right-click on it and navigate to <strong>TortoiseSVN>>Create repository here</strong>. You can select either format. Done, your repository is set.</p>

<p><strong>SVN</strong><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn3.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn3.png" alt="svn3.png" /></a></p>

<p>If you open the manuscript directory you will see different files, but of course it is empty of actual content. You need to add some content to it and the ideal way is to check out (create a copy for edition) the repository in another location, drop files into this copy and add them to the version control.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn4.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn4.png" alt="svn4.png" /></a></p>

<p>You created the repository in your &#8220;Documents&#8221; directory, so you can check out it to your Desktop (or to any location). This will be your &#8220;local&#8221; copy of the manuscript, the one that you will work on. Close all open windows and right click on your desktop and select <strong>SVN Checkout</strong> from the popup menu.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn5.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn5.png" alt="svn5.png" /></a></p>

<p>In the dialog that appear enter the location of the repository (in your &#8220;Documents&#8221; dir) and the location where you want to checkout to (your &#8220;Desktop&#8221; location), just like the figure below.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn6.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn6.png" alt="svn6.png" /></a></p>

<p>Click OK and a &#8220;local&#8221; copy of the repository will be created.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn7.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn7.png" alt="svn7.png" /></a></p>

<p>To be continued.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/23/rowling-dumbledore-is-gay/">Rowling: &#8216;Dumbledore Is Gay&#8217;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-23T11:19:46-04:00" pubdate data-updated="true">Oct 23<span>rd</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At a public appearance at Carnegie Hall in New York, author J.K. Rowling announced that Dumbledore, the headmaster character in her popular Harry Potter series, is homosexual. What do you think?</p>

<p>Larry Hahn,
Water Delivery Man
&#8220;Wow. I haven&#8217;t heard that. I&#8217;ve been really busy lately not caring about the sexual preferences of fictional people.&#8221;</p>

<p>More <a href="http://www.theonion.com/content/node/68575">here</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/23/never-trust/">Never trust</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-23T10:10:40-04:00" pubdate data-updated="true">Oct 23<span>rd</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Never trust the judgment  of a man (or a woman) driving with sunglasses on a rainy day.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/20/using-subversion-and-svn-time-lapse-to-edit-a-manuscript/">Using subversion and svn-time-lapse to edit a manuscript, take 1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-20T00:41:26-04:00" pubdate data-updated="true">Oct 20<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Neil Saunders started the thread <a href="http://nsaunders.wordpress.com/2007/10/03/organise-your-bioinformatics-projects-using-subversion-and-trac-part-1/">here </a>and <a href="http://nsaunders.wordpress.com/2007/10/05/organise-your-bioinformatics-projects-using-subversion-and-trac-part-2/">here</a> of using subversion to maintain your files, projects and general stuff. Myself, I find trac a little bit clumsy to check differences between two versions. It is easy to see what has been changed but if the modifications are large it gets a little bit tedious to scroll down and search everything. An example is below.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/trac_example.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/trac_example.thumbnail.png" alt="Example of file comparison in trac (2 versions, Python)" /></a></p>

<p>Enters <a href="http://jonaquino.blogspot.com/2007/10/svn-time-lapse-view.html">svn-time-lapse</a>, which seems to be a very interesting tool to compare two versions of a file. I decided to test it on a manuscript edition. I first created a a repository on my Desktop and added an old LaTex file. I replaced this file with a different version of the article (1 or 2 revisions ahead) and opened the repository with svn-time-lapse. The program instantly highlights the portions of the article that are different and display both side by side. One advantage is that svn-time-lapse already gets a certain number of revisions from the repository that can be compared to the current file. A scroll on the top gives an extra help moving from one revision to another.</p>

<p><a href="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn_time_lapse_example.png"><img src="http://blindscientist.genedrift.org/wordpress/wp-content/uploads/2007/10/svn_time_lapse_example.thumbnail.png" alt="svn-time-lapse example" /></a></p>

<p>The program is available from the developer&#8217;s website, Jon Aquino, and from Google Code. The release still needs some polishing but it is stable enough to be used extensively.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/18/watson-yet-again/">Watson, yet again</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-18T15:25:18-04:00" pubdate data-updated="true">Oct 18<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, Watson <a href="http://www.iht.com/articles/ap/2007/10/18/europe/EU-GEN-Britain-US-Scientist-Racism.php">said</a> what he said and then got some lectures <a href="http://www.cbc.ca/world/story/2007/10/18/science-watson-controversy.html">canceled</a>. Fine.</p>

<p>Now Cold Spring Harbor issued an <a href="http://www.cshl.edu/public/releases/07_statement.html">statement</a> basically distancing themselves from Watson and his comments. I fail to understand one thing: when he says good things, he is the Chancellor of CSHL and when they don&#8217;t like the comment, he is not &#8220;speaking on behalf of the institution&#8221;.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/18/off-topic/">Off topic</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-18T08:10:59-04:00" pubdate data-updated="true">Oct 18<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Mr Daniel Swan accused me of not publishing his
<a href="http://eridanus.net/blog/?p=233#respond">comment</a> or reply to his
comments. I have never seen his reply, either in the comments or as an
email to me, so to fulfill his desires it is published here.</p>

<blockquote><p>I admit that some of the things you have addressed in the past, whilst
‘reinventing’ the wheel, offer important insights into the general
problems of programming in general - this particular example was not
one of them. From following the course which I assume was outlined by
‘Beginning Perl for Bioinformatics’ (which I do not think is a good
reference for beginning Perl at all) a user should already be able to
perform the following operations - open a file, iterate over and parse
the contents, open a file for writing, and apply some rules for
formatting the output. Thus you have already given them the tools to
complete the operation should they wish to do so in a Python context.
The problem is that you are trying to educate potentially early
career/transitional bioinformaticians here - and showing them how to
complete tasks in X lines of Python when there is a single command
line application to do the trick I think is disingenuous. We wouldn’t
dream, for instance, of educating our MRes students in this way. I
also would take issue that diversity is a key. You can be as diverse
as you like but no-one is seriously going to suggest that you write
your next script to parse something out of a GenBank file in
assembler. One of the hallmarks of any computer professional in any
field is the ability to use the right tool for the job. You should be
technology agnostic and be prepared to string together applications or
scripts from anywhere to reach your goal - take a look at something
like Taverna for instance. I notice in the other post that you mention
there is a high proportion of Windows users to this site and therefore
command line *nix comments are of no interest. Although I know a
number of bioinformaticians who use Windows (generally to integrate
with an institutions existing Microsoft heavy infrastructure) they all
have logins to dozens of *nix machines, run *nix in a VM or at the
very least have a Cygwin installation with which to work with. Basing
the availability of technology on the OS of your page imprints is not
necessarily indicative. I hope you don’t mind me addressing these
points here rather in my blog, as my blog is personal (hence the lack
of bioinformatics content on there). I have actually been following
these tutorials for a while (as someone who came into Bioinformatics
some time ago - my first forays in programming were in Perl) it is
nice for me to see tasks that I find intuitive in one language written
in another. Consequently the fact that I felt need to comment, merely
suggests that I felt strongly on this issue, rather than having any
negative feelings towards what you are trying to achieve.</p></blockquote>

<p>I am sorry for the usual readers of this tutorial, for posting his
comments as an article here. We will be back to our uneducated, simple
and basic &#8220;tutorial for bioinformatics in X lines for the noobie in
Windows&#8221; soon. Thanks Daniel.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/17/splitting-a-fasta-file/">Splitting a FASTA file</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-17T20:08:17-04:00" pubdate data-updated="true">Oct 17<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have posted in my other <a href="http://python.genedrift.org">site</a> different ways to split a FASTA file. <a href="http://python.genedrift.org/2007/10/10/alternative-methods-to-split-a-fasta-file/">Take a look</a>. The Python method is <a href="http://python.genedrift.org/2007/10/10/splitting-multiple-fasta-file-or-why-shouldnt-we-reinvent-the-wheel/">here</a>.</p>

<p>I am planning to include as many languages as possible.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/17/watson/">Watson</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-17T20:05:14-04:00" pubdate data-updated="true">Oct 17<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was never a fan of James Watson, I am even less now. Sad.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/10/alternative-methods-to-split-a-fasta-file/">Alternative methods to split a FASTA file - updated (again)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-10T13:53:28-04:00" pubdate data-updated="true">Oct 10<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As Daniel didn&#8217;t enlightened us on how to use csplit, I am posting
several ways on how to split a multiple sequence FASTA file. This post
gets out of our focus (if you haven&#8217;t noticed, our focus here is
<strong>Python</strong>, and maybe suffers from the NIH effect. Not invented here. We
will be back with our normal programming after this. We start with our
&#8220;widely&#8221; available option <strong>csplit</strong>:</p>

<p><code>csplit -kf seq file '%^&gt;%' '/^&gt;/' '{*}'</code></p>

<p>where <code>k</code> tells the program to
keep files in case of an error, <code>f</code> sets a prefix for the output files
(otherwise xx00 is used) and two regex patterns are used: between <code>%s</code> is
the one to skip and between /s is the one to copy up to but not
including the line. In <code>{}</code> is the number of times we want to have the
previous patterns repeated, a * meaning as many time as possible. Easy,
eh? Now, we can check how perl fares. I am not a perl monger so I
googled it and I found an one-liner. Quoting the original
<a href="http://www.softpanorama.org/Scripting/Perlorama/perl_in_command_line.shtml">site</a>:
Split a multi-sequence FastA file into individual files named after
their description lines.</p>

<p><code>perl -ne 'BEGIN{$/="&gt;"}if(/^\s*(\S+)/){open(F,"&gt;$1")||warn"$1 write failed:$!\n";chomp;print F "&gt;", $_}'</code></p>

<p>and I am not daring to explain this one. But cariaso did and also sent a
better version of it</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='perl'><span class='line'><span class="c1"># This magic variable makes perl read lines that end with &gt; </span>
</span><span class='line'><span class="c1"># instead of a newline n $/=&quot;&gt;&quot;; while (&lt;&gt;) { </span>
</span><span class='line'>  <span class="o">\</span><span class="c1"># foreach line in the input files </span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="sr">/\^\&gt;(w+)/</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="o">\</span><span class="c1"># grab the first word of text </span>
</span><span class='line'>      <span class="nb">open</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="s">&quot;\&gt;$1&quot;</span><span class="p">)</span> <span class="o">||</span>
</span><span class='line'>      <span class="c1"># open a file named that word</span>
</span><span class='line'>       <span class="nb">warn</span> <span class="s">&quot;$1 write failed:$!n&quot;</span><span class="p">;</span> <span class="nb">chomp</span><span class="p">;</span>
</span><span class='line'>      <span class="c1"># strip off the \&gt; at the end print F &quot;\&gt;&quot;, $\_; \#</span>
</span><span class='line'><span class="k">print</span> <span class="o">&gt;</span><span class="n">text</span> <span class="n">to</span> <span class="n">the</span> <span class="n">file</span> <span class="p">}</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can also do in Python, without any OO
programming in 5 lines:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;myfile&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</span><span class='line'><span class="nb">str</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
</span><span class='line'><span class="n">temp</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;&gt;&#39;</span><span class="p">)</span>
</span><span class='line'><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">temp</span><span class="p">:</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&#39;&gt;&#39;</span> <span class="o">+</span> <span class="n">i</span>
</span></code></pre></td></tr></table></div></figure>


<p>that can be run with no difficulties from the interactive console. And which cariaso also
corrected and improved</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">fileobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;myfile.fasta&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">ignore</span> <span class="o">=</span> <span class="n">fileobj</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="n">text</span> <span class="o">=</span> <span class="n">fileobj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span class='line'><span class="n">records</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;\&gt;&quot;</span><span class="p">)</span>
</span><span class='line'><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&#39;\&gt;&#39;</span> <span class="o">+</span> <span class="n">i</span>
</span></code></pre></td></tr></table></div></figure>


<p>along the offer of a nicer approach</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">eachfasta</span><span class="p">(</span><span class="n">fileobj</span><span class="p">):</span>
</span><span class='line'>  <span class="n">sofar</span> <span class="o">=</span> <span class="n">fileobj</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
</span><span class='line'>  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fileobj</span><span class="p">:</span>
</span><span class='line'>      <span class="k">if</span> <span class="s">&#39;&gt;&#39;</span> <span class="o">==</span> <span class="n">line</span> <span class="p">(</span><span class="n">bracket</span> <span class="n">zero</span> <span class="n">close</span> <span class="n">bracket</span><span class="p">):</span>
</span><span class='line'>          <span class="k">yield</span> <span class="n">sofar</span>
</span><span class='line'>          <span class="n">sofar</span> <span class="o">=</span> <span class="n">line</span>
</span><span class='line'>      <span class="k">else</span><span class="p">:</span>
</span><span class='line'>          <span class="n">sofar</span> <span class="o">+=</span> <span class="n">line</span>
</span><span class='line'>          <span class="k">yield</span> <span class="n">sofar</span>
</span><span class='line'><span class="n">fileobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;myfile.fasta&quot;</span><span class="p">)</span>
</span><span class='line'><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">eachfasta</span><span class="p">(</span><span class="n">fileobj</span><span class="p">):</span>
</span><span class='line'>  <span class="k">print</span> <span class="n">i</span>
</span></code></pre></td></tr></table></div></figure>


<p>Also Joe wanted to dip in and
sent his approach:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># f6smod.py 10-26-07 jto </span>
</span><span class='line'><span class="c"># purpose: modify program by Michael Cariaso, given in Paolo Nuin&#39;s</span>
</span><span class='line'><span class="n">blog</span><span class="p">:</span>
</span><span class='line'><span class="c"># http://python.genedrift.org </span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="n">fileobj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;fasta.seq&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">ignore</span> <span class="o">=</span> <span class="n">fileobj</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="c"># The above line removes the first char from the file object. </span>
</span><span class='line'><span class="c"># It can also be used to check that the first char is a &#39;&gt;&#39; </span>
</span><span class='line'><span class="k">if</span> <span class="n">ignore</span> <span class="o">!=</span> <span class="s">&#39;&gt;&#39;</span><span class="p">:</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&quot;The first character in the supposed FASTA file is: &quot;</span> <span class="o">+</span> <span class="n">ignore</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&quot;not &#39;&gt;&#39;, so sys.exit() is being invoked.&quot;</span>
</span><span class='line'>  <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</span><span class='line'><span class="n">text</span> <span class="o">=</span> <span class="n">fileobj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="n">records</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;\&gt;&#39;</span><span class="p">)</span>
</span><span class='line'><span class="c"># Here, rather than use the for loop to just print out the sequences, it </span>
</span><span class='line'><span class="c"># is used to store them in a list. After that they can be printed out, or </span>
</span><span class='line'><span class="c"># stored in separate files, or or further split into header line and sequence </span>
</span><span class='line'><span class="c"># (using the carriage return at the end of the header file).</span>
</span><span class='line'><span class="n">seqlist</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class='line'><span class="n">listcount</span> <span class="o">=</span> <span class="mi">0</span> \<span class="c"># store each header/sequence in a list </span>
</span><span class='line'><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
</span><span class='line'>  <span class="n">i</span> <span class="o">=</span> <span class="s">&#39;&gt;&#39;</span> <span class="o">+</span> <span class="n">i</span>
</span><span class='line'>  <span class="n">seqlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span class='line'>  <span class="n">listcount</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'><span class="c"># print the list </span>
</span><span class='line'><span class="k">for</span> <span class="n">seq</span> <span class="ow">in</span> <span class="n">seqlist</span><span class="p">:</span>
</span><span class='line'>  <span class="k">print</span> <span class="n">seq</span> \<span class="c"># Split into header line and sequence, and make the sequence a single string. </span>
</span><span class='line'><span class="k">for</span> <span class="n">seq</span> <span class="ow">in</span> <span class="n">seqlist</span><span class="p">:</span>
</span><span class='line'>  <span class="n">splitCR</span> <span class="o">=</span> <span class="n">seq</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&quot;header: &quot;</span> <span class="o">+</span> <span class="n">splitCR</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class='line'>  <span class="n">sequence</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">splitCR</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</span><span class='line'>  <span class="k">print</span> <span class="s">&quot;sequence: &quot;</span>
</span><span class='line'>  <span class="k">print</span> <span class="n">sequence</span>
</span></code></pre></td></tr></table></div></figure>


<p>OK, so <del>three</del> <del>five</del> six more options
available. I am pretty sure sed and awk would be able to do it glued by
a bash script, but I am far of being an expert in sed or awk. If you
know how to do it, leave a comment.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/10/splitting-multiple-fasta-file-or-why-shouldnt-we-reinvent-the-wheel/">Splitting multiple FASTA file, or why shouldn&#8217;t we reinvent the wheel?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-10T12:04:59-04:00" pubdate data-updated="true">Oct 10<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="eridanus.net/blog">Daniel Swan</a> posted a comment on the previous entry
regarding that splitting multiple sequence FASTA files is &#8220;one of those
‘bioinformatics’ tasks where people are seriously guilty of reinventing
the wheel&#8221;.</p>

<p>Biologically, let&#8217;s dissect his comment. As there are not
many comments in this blog, we take advantage of the few ones posted. I
don&#8217;t disagree with the fact that many applications in Bioinformatics
are reinventing the wheel, but at the same time this blog is not to
teach anyone advanced bioinformatics development. Here, we deal with
Python and I try to use real life examples to show how powerful (or not,
depends on your point of view) Python is.The splitting FASTA example is
not the first one that &#8220;reinvents the wheel&#8221;.</p>

<p>Who needs a new GenBank parser? Or a restriction site finder? Or a new class to read FASTA file?
Basically who needs Python if we can do everything else with Perl, C++?
What the heck, let&#8217;s just learn Assembler. Diversity, that&#8217;s the first
rule here. Perl mongers usually say that are many ways to do the same
thing, and that&#8217;s very close to the truth. What would be of blue if
everyone liked green? At the same time he presents us with an
alternative for the job which is &#8220;‘csplit’&#8221; and this &#8220;should probably be
your first port of call for context based splitting of files!&#8221;. Yes, I
know csplit.</p>

<p>I also know dozens of other methods (see next post) to do
same thing. But maybe he didn&#8217;t notice the title of the site: Beginning
<strong>Python</strong> for Bioinformatics. If the main reason of the blog was to
show *nix commands I would have titled it Beginning *nix Commands for
Bioinformatics. We also learn from his comment that csplit is &#8220;far more
widely applicable than for just this example.&#8221;</p>

<p>I know in bioinformatics
we are in a microuniverse with its own idiosyncrasies. Because we live
in this bioinfo universe we might think that every other person in the
world has immediate access to a *nix terminal. Biologists <em>don&#8217;t use</em>
Windows. Because of that, I cannot disagree more that csplit is far more
widely applicable than any other method. Again, diversity. Not every
system is equal, not every solution is widely applicable. And lastly, he
tells us &#8220;Remember - if it seems like a logical operation and you are in
the ‘why hasn’t anyone made a utility to do this?’ frame of mind - look
around because they probably have!&#8221;. Oh, I look around. And I see the
diversity of systems, applications, programming languages. I even see
diversity among biologists and bioinformaticians.</p>

<p>Again, what I try to
emphasize with this post is diversity. Since the beginning my main focus
was to show a Pythonistic view of basic bioinformatics development. I am
probably reinventing the wheel every week, in every post. For the ones
that are learning Python or bioinformatics, it is a seed. For those that
are already established bioinformaticians, it might be a new option on
how to accomplish things. Diversity is the key. Out there is evolve or
perish. In (bio)informatics that&#8217;s also true.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/31/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/29/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/06/03/installing-circos-on-os-x/">Installing Circos on OS X</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/09/new-blog/">New blog</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/23/scientists-are-human-beings/">Scientists are human beings</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/16/a-plea-to-mankind-news-outlets-and-even-scientists/">A plea to mankind, news outlets and even scientists</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/15/there-are-idiots-everywhere/">There are idiots everywhere &#8230;</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/nuin">@nuin</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'nuin',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("nuin", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/nuin" class="twitter-follow-button" data-show-count="false">Follow @nuin</a>
  
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/nuin?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/nuin">My Delicious Bookmarks &raquo;</a></p>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Paulo Nuin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'zientzilaria';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
