
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Zientzilaria</title>
  <meta name="author" content="Paulo Nuin">

  
  <meta name="description" content="Although I was born in Brazil, my heart (football and everything else) was always Spanish. I saw and suffer with losses to Yugoslavia, France, Italy &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zientzilaria.genedrift.org/blog/page/20">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Zientzilaria" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30723948-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Zientzilaria</a></h1>
  
    <h2>The most influential bioinformatician in the world (TM)</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zientzilaria.genedrift.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/29/what-a-happy-day/">What a happy day!!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-29T16:14:56-04:00" pubdate data-updated="true">Jun 29<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Although I was born in Brazil, my heart (football and everything else) was always Spanish. I saw and suffer with losses to Yugoslavia, France, Italy, Belgium, Korea (what a robbery!!), etc, but today was a day of enjoyment and “good” suffering in the final minutes. Thanks to the Niño and to a wonderful 11 we leave the underachievers banner behind and hope to even better days ahead. See you in South Africa.</p>

<p>Aupa España!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/18/wordle/">Wordle</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-18T12:36:04-04:00" pubdate data-updated="true">Jun 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://wordle.net/gallery/nuinondelicious"><img src="http://wordle.net/thumb/nuinondelicious" alt="" /></a></p>

<p>As <a href="http://nsaunders.wordpress.com/2008/06/19/well-everyone-else-was-doing-it/">Neil</a> said about his, it is difficult to guess that I am (was?) a biologist.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/14/the-new-cult-is-coming-to-life/">The &#8220;new&#8221; cult is coming to life</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-14T21:00:03-04:00" pubdate data-updated="true">Jun 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Repent sinners, beware of the <a href="http://scienceblogs.com/pharyngula/2008/06/not_even_tempted.php">knights of the cult</a>. The &#8220;new <a href="http://en.wikipedia.org/wiki/Scientist">scientists</a>&#8221;.</p>

<p>It&#8217;s getting really boring to read all the posts and the ever growing ignorance in them. I bet you will get much better science from the related articles in this post. Or not, who knows.Related articles</p>

<ul>
<li><a href="http://kotaku.com/391451/blow-135000-on-this-bogus-crystal-ps3">Blow $135,000 On This Bogus, Crystal PS3 [Playstation 3]</a> [via Zemanta]</li>
<li><a href="http://mndoci.com/blog/2008/05/29/programming-and-science-education/">Programming and science education</a> [via Zemanta]</li>
</ul>


<p><a href="http://reblog.zemanta.com/zemified/d515eb08-2be7-4f9e-8a59-c5bf010a9c71/"><img src="http://img.zemanta.com/reblog_a.png?x-id=d515eb08-2be7-4f9e-8a59-c5bf010a9c71" alt="Zemanta Pixie" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/11/chelsea/">Chelsea</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-11T17:27:29-04:00" pubdate data-updated="true">Jun 11<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Now I have at least <a href="http://news.bbc.co.uk/sport2/hi/football/teams/c/chelsea/7449627.stm">one reason</a> to root for any other team in England but Chelsea.Related articles</p>

<ul>
<li><a href="http://www.telegraph.co.uk/sport/main.jhtml?xml=/sport/2008/06/10/sfnche110.xml">Bayern Munich&#8217;s Franck Ribery rejects Chelsea</a> [via Zemanta]</li>
<li><a href="http://footballfanatix.blogspot.com/2008/06/ancelotti-not-going-to-chelsea.html">Ancelotti not going to Chelsea</a> [via Zemanta]</li>
</ul>


<p><a href="http://reblog.zemanta.com/zemified/d32e4325-0c64-4626-81e2-8b39d2f19ed7/"><img src="http://img.zemanta.com/reblog_a.png?x-id=d32e4325-0c64-4626-81e2-8b39d2f19ed7" alt="Zemanta Pixie" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/06/a-quick-assessment-of-factorial-functions-in-python/">A quick assessment of factorial functions in Python</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-06T11:52:35-04:00" pubdate data-updated="true">Jun 6<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A short pause on the motifs subject. As mentioned on comments there is a
lot of different ways of calculating
<a href="http://en.wikipedia.org/wiki/Factorial" title="Factorial">factorials</a> in
Python (the same &#8220;problem&#8221; can be found in some other languages too).
<a href="http://python.genedrift.org/2008/06/04/obtaining-overrepresented-motifs-in-dna-sequences-part-10/#comment-14054">Cariaso</a>
suggested to time the execution of different factorial functions,
including the ones found on <a href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/67668">Python&#8217;s cookbook</a>
(which I should have included in the beginning of last post).</p>

<p>Anyway all
functions from the webpage were included, as the one mentioned on a
comment and both functions seen here. Using timeit (thanks Mike!) the
execution time of all of them were measured by calculating the factorial
of 800 and 4000. First, the functions:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">fac_01</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="n">result</span> \<span class="o">*=</span> <span class="n">i</span> <span class="k">return</span>
</span><span class='line'><span class="n">result</span> <span class="k">def</span> <span class="nf">fac_02</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">value</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="p">:</span> <span class="n">i</span> \<span class="o">*</span> <span class="n">j</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span>
</span><span class='line'><span class="mi">1</span><span class="p">))</span> <span class="k">return</span> <span class="n">value</span> <span class="k">def</span> <span class="nf">fac_03</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="kn">import</span> <span class="nn">operator</span> <span class="nn">value</span> <span class="o">=</span>
</span><span class='line'><span class="nb">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">mul</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">return</span> <span class="n">value</span> <span class="k">def</span> <span class="nf">fac_04</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span>
</span><span class='line'><span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>\<span class="o">*</span><span class="nb">long</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">1</span> <span class="k">return</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">def</span>
</span><span class='line'><span class="nf">fac_05</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span>\<span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>\<span class="o">*</span><span class="n">n</span> <span class="k">return</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">def</span>
</span><span class='line'><span class="nf">fac_06</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">:</span><span class="n">a</span>\<span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span>
</span><span class='line'><span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">def</span> <span class="nf">fac_07</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span><span class="o">=</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="n">n</span> \<span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span>
</span><span class='line'><span class="n">y</span><span class="p">:</span> <span class="n">x</span>\<span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">return</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">def</span> <span class="nf">fac_08</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span>
</span><span class='line'><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span>\<span class="o">*</span><span class="n">b</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">return</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">def</span>
</span><span class='line'><span class="nf">fac_09</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">[[[</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">(</span><span class="n">j</span> \<span class="o">*</span> <span class="n">i</span><span class="p">,)][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span>
</span><span class='line'><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)][</span><span class="mi">0</span><span class="p">]</span> <span class="k">return</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">def</span> <span class="nf">fac_10</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="n">fac</span> <span class="o">=</span>
</span><span class='line'><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">[</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="n">j</span> \<span class="o">*</span> <span class="n">i</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'><span class="k">return</span> <span class="n">fac</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>fac_01</code> was suggested by bearophile on a comment (no psyco import here),
<code>fac_02</code> was the first one we have seen
in the blog, <code>fac_03</code> was the one &#8220;selected as the fastest&#8221; (mentioned
on comments too) and functions 4 to 10 were gathered from the cookbook,
all of them using <code>lambda</code>. Now, to the results (no fancy graphs, yet),
average over 1000 repeats, time in seconds:</p>

<p><em>800!</em> fac_01: <strong>0.0010</strong>
fac_02: 0.0012 fac_03: <strong>0.0010</strong> fac_04: 0.0022 fac_05: 0.0020
fac_06: 0.0015 fac_07: 0.0013 fac_08: 0.0013 fac_09: 0.0017 fac_10:
0.0015 <em>4000!</em> fac_01: <strong>0.0226</strong> fac_02: 0.0242 fac_03: <strong>0.0230</strong>
fac_04: N/A fac_05: N/A fac_06: 0.0244 fac_07: 0.0239 fac_08:
0.0241 fac_09: 0.0380 fac_10: 0.0362 In both cases the &#8220;best&#8221;
functions were 1 and 3. For the smallest factorial (800!) 1 and 3 didn&#8217;t
have a lot of advantage for 2, 6-10, while 4 and 5 were 2 times slower.
For the largest factorial (4000!) 1 was 4% better than 3, and the third
best (6) was also 4% slower than 3. Why do 4 and 5 have no computed
time? Because they are recursive and it blows the recursion limit in
Python. So I guess it is a safe bet to use either function 1 or 3, with
a slightly advantage for 3 in the case of large factorials. But at the
same time a believe for our case of overrepresented motifs, it would be
better to pre-calculate the factorials, store them and access the value
when needed. Andrew&#8217;s idea of using binomials is also interesting, and I
am planning to test it here. He also gave a couple of other suggestions
that would need extra imports, scipy and gmpy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/04/poor-octopi/">Poor octopi &#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-04T15:08:59-04:00" pubdate data-updated="true">Jun 4<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.daylife.com/image/02tu1RtgMbbc2"><img src="http://cache.daylife.com/imageserve/02tu1RtgMbbc2/102x150.jpg" alt="DETROIT - MAY 26:  Building manager, Al Sobotka flings an octopus around during a break from game two of the 2008 NHL Stanley Cup Finals between the Detroit Red Wings and the Pittsburgh Penguins at Joe Louis Arena on May 26, 2008 in Detroit, Michigan. The Red Wings defeated the Penguins 3-0 to set the series at 2-0 Red Wings." /></a>Image by <a href="http://www.daylife.com/source/Getty_Images">Getty Images</a> via <a href="http://www.daylife.com">Daylife</a>Detroit&#8217;s <a href="http://en.wikipedia.org/wiki/Detroit_Red_Wings">Red Wings</a> tradition says someone needs to turn/throw an octopus on the ice before the game in order to get the crowd fired-up. I&#8217;ve never seen any organized group, such as <a href="http://www.peta.org">PETA</a>, to fight against this horrendous tradition. What!, nobody care for the poor <a href="http://en.wikipedia.org/wiki/Cephalopod">cephalopods</a>? Imagine what would happen if the Pittsburgh Penguins decided to throw a dead penguin on the ice to get the crowd fired-up? Why a cephalopod doesn&#8217;t have the same status of a bird?</p>

<p><a href="http://www.zemanta.com/"><img src="http://img.zemanta.com/pixie.png?x-id=25c9f76b-39e2-4965-b2da-597e174543ef" alt="Zemanta Pixie" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/04/obtaining-overrepresented-motifs-in-dna-sequences-part-10/">Obtaining overrepresented motifs in DNA sequences, part 10</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-04T11:33:51-04:00" pubdate data-updated="true">Jun 4<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Let&#8217;s get back to the statistical module, that will calculate an
Hypergeometric Distribution (HD) <em>p</em> value so we can define the
overrepresented motifs. Last time we saw it, we just had defined the
<a href="http://en.wikipedia.org/wiki/Factorial" title="Factorial">factorial function</a>, which is
immensely helpful in this case due to the number of factorial
calculations needed in the HD. The factorial function was the one below</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'> <span class="k">def</span> <span class="nf">fac</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span class='line'>  <span class="n">value</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="p">:</span> <span class="n">i</span> <span class="o">*</span> <span class="n">j</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">return</span> <span class="n">value</span>
</span></code></pre></td></tr></table></div></figure>


<p>but as mentioned in the comments by
<a href="http://python.genedrift.org/2008/05/21/obtaining-overrepresented-motifs-in-dna-sequences-part-iv/#comment-13532">Dave</a>
and by Mike via email the method used is not the best method to
calculate factorial in
<a href="http://python.org/" title="Python (programming language)">Python</a>. The best
approach in this case is to use <code>operator.mul</code>. All functions in the
operator modules are in implemented in pure C and they mimic the same
operators in Python. So in this module we can find <code>mul</code> for
multiplication, <code>sub</code> for subtraction, <code>add</code> for additions, etc. The
<code>operator.mul</code> needs two arguments to multiply, and in our case we still
need to use <code>reduce</code> to sum all the results from a series of
multiplications. As parameters we should use a <code>range</code>, that can start
with 2, that should go up to the number we want the factorial plus one.
Finally our function would be</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">operator</span>
</span><span class='line'><span class="k">def</span> <span class="nf">fac</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span class='line'>  <span class="n">value</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">mul</span><span class="p">,</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">return</span> <span class="n">value</span>
</span></code></pre></td></tr></table></div></figure>


<p>The time gain, quickly measured in a non-scientific
fashion in my system, is around 5 to 15%, depending on the factorial
being calculated. It may seem a small gain, but when you need to
calculate almost a million factorials for all possible motifs the amount
of time saved is crucial. Next time we will be back with more
statistics, expanding the module.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/03/obtaining-overrepresented-motifs-in-dna-sequences-part-8/">Obtaining overrepresented motifs in DNA sequences, part 9</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-03T13:59:28-04:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Back on new functions for motif quorums. We jump function 7 in order to
explain &#8220;simpler&#8221; ones, 8 and 9. Both functions use <code>generators</code>. We&#8217;ve
already seen here <code>generators</code>, which are functions that use the <code>yield</code>
statement to generate iterators. The generator is very similar to a
function but instead of returning a value, it yields one and waits for
another call to resume. In function 8, a generator is used to return the
motif sequence that is used as a key in the <code>defaultdict</code>. Notice the
scope of the generator that is coded inside a function.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">get_quorums_08</span><span class="p">(</span><span class="n">seqs</span><span class="p">,</span> <span class="n">mlen</span><span class="p">):</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot;add seq id_no to a set use enumerate to create seq_no use an explicit generator to</span>
</span><span class='line'><span class="sd">create the motifs &quot;&quot;&quot;</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">motif_gen</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
</span><span class='line'>      <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">-</span><span class="n">mlen</span><span class="p">):</span>
</span><span class='line'>          <span class="k">yield</span> <span class="n">seq</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">mlen</span><span class="p">]</span>
</span><span class='line'>          <span class="n">quorum</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
</span><span class='line'>          <span class="k">for</span> <span class="n">id_no</span><span class="p">,</span> <span class="n">seq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">seqs</span><span class="p">):</span>
</span><span class='line'>              <span class="k">for</span> <span class="n">motif</span> <span class="ow">in</span> <span class="n">motif_gen</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
</span><span class='line'>                  <span class="n">quorum</span><span class="p">[</span><span class="n">motif</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">id_no</span><span class="p">)</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">quorum</span>
</span></code></pre></td></tr></table></div></figure>


<p>In function 9 a
very similar structure is used but in this cases instead of a &#8220;pure&#8221;
<code>generator</code> it uses <code>generator expressions</code> which a very similar to
<a href="http://python.genedrift.org/2008/03/11/fasta-module-generating-reverse-complement-of-dna-sequences/">list comprehensions</a>
but with parentheses instead of square brackets. <code>Generator expressions</code>
are generators that can be written in one line and have identical
behaviour as generators coded in the &#8220;regular&#8221; inception. In the
function below the <code>generator expressions</code> provide the iterator for the
loop with <code>motif</code> as index. Very simple and elegant.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">get_quorums_09</span><span class="p">(</span><span class="n">seqs</span><span class="p">,</span> <span class="n">mlen</span><span class="p">):</span> <span class="s">&quot;&quot;&quot; add seq id_no</span>
</span><span class='line'><span class="s">to a set use enumerate to create seq_no use a generator expression to</span>
</span><span class='line'><span class="s">create the motifs &quot;&quot;&quot;</span> <span class="n">quorum</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_no</span><span class="p">,</span> <span class="n">seq</span> <span class="ow">in</span>
</span><span class='line'><span class="nb">enumerate</span><span class="p">(</span><span class="n">seqs</span><span class="p">):</span> <span class="k">for</span> <span class="n">motif</span> <span class="ow">in</span> <span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">mlen</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span>
</span><span class='line'><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">-</span><span class="n">mlen</span><span class="p">)):</span> <span class="n">quorum</span><span class="p">[</span><span class="n">motif</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">id_no</span><span class="p">)</span> <span class="k">return</span>
</span><span class='line'><span class="n">quorum</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the next post we will go back to the statistical
module and soon we will see the remainder 5 functions sent by Mike.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/03/obtaining-overrerpresented-motifs-in-dna-sequences-part-8/">Obtaining overrerpresented motifs in DNA sequences, part 9</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-03T12:49:53-04:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We keep on introducing Mike&#8217;s functions. This time there are a couple of
Python methods that we haven&#8217;t seen here and need some introduction,
<code>izip</code> and <code>count</code>. To use these two we also need to import new modules</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span><span class="p">,</span> <span class="n">izip</span>
</span></code></pre></td></tr></table></div></figure>


<p> <code>count</code> returns consecutive integers starting at a
defined point (the method&#8217;s parameter). If empty it starts from zero.
Basically, by starting a <code>count</code> it will give an iterable with a
increasing integer values, in a fashion similar to a function with
yield. Every time our loop accesses the <code>count</code> it will &#8220;remember&#8221; the
last return value and increment it by one. <code>izip</code> also returns an
iterator, but from a list of iterables. It is basically used to iterate
through a list of many iterables at the same time. In the function below
it is used twice: one to generate a tuple (with <code>count</code>) with a sequence
number and the sequence itself. The sequence in the tuple is then used
in another <code>izip</code> to create the windows on the sequences to count
motifs.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">get_quorums_06</span><span class="p">(</span><span class="n">seqs</span><span class="p">,</span> <span class="n">mlen</span><span class="p">):</span>
</span><span class='line'><span class="sd">&quot;&quot;&quot; add seq id\_no to a set use &#39;izip(count(),...) to create seq_no use</span>
</span><span class='line'><span class="sd">&#39;izip(count(),range(...)) to create start/stop indices for motifs &quot;&quot;&quot;</span>
</span><span class='line'>  <span class="n">quorum</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
</span><span class='line'>  <span class="k">for</span> <span class="n">id_no</span><span class="p">,</span> <span class="n">seq</span> <span class="ow">in</span> <span class="n">izip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="n">seqs</span><span class="p">):</span>
</span><span class='line'>      <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">izip</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="nb">range</span><span class="p">(</span><span class="n">mlen</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">))):</span>
</span><span class='line'>          <span class="n">quorum</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">e</span><span class="p">]]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">id_no</span><span class="p">)</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">return</span> <span class="n">quorum</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the next couple of posts we still be
checking motif quorum functions. Stay tuned.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/03/obtaining-overrepresented-motifs-in-dna-sequences-part-7/">Obtaining overrepresented motifs in DNA sequences, part 7</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-03T10:27:49-04:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Continuing on Mike&#8217;s functions to obtain motif quorums. We see function
3, 4 and 5. Function get_quorums_03, uses an old friend of the blog,
<code>sets</code>. Recall that <code>sets</code> are very similar to lists, but their are
unordered and items are unique.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">get_quorums_03</span><span class="p">(</span><span class="n">seqs</span><span class="p">,</span> <span class="n">mlen</span><span class="p">):</span>
</span><span class='line'>  <span class="sd">&quot;&quot;&quot; add seq id_no to a set use explicit counter to create seq_no &quot;&quot;&quot;</span>
</span><span class='line'>  <span class="n">quorum</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
</span><span class='line'>  <span class="n">id_no</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">for</span> <span class="n">seq</span> <span class="ow">in</span> <span class="n">seqs</span><span class="p">:</span>
</span><span class='line'>      <span class="n">id_no</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>      <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">-</span><span class="n">mlen</span><span class="p">):</span>
</span><span class='line'>          <span class="n">quorum</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">mlen</span><span class="p">]]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">id_no</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="n">quorum</span>
</span></code></pre></td></tr></table></div></figure>


<p> Basically,
the sequence numbers (an incremented counter) are added to a <code>defaultdict</code>
which was initialized as a set. This way you don&#8217;t need to check for the
existence of the sequence number in the <code>defaultdict</code> list and count on
the ability of <code>set</code> of being unique. Function 4 is very similar to
function 3 with the difference of using enumerate (as in function 02) to
make the sequence numbers.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">get_quorums_04</span><span class="p">(</span><span class="n">seqs</span><span class="p">,</span> <span class="n">mlen</span><span class="p">):</span>
</span><span class='line'>  <span class="sd">&quot;&quot;&quot; add seq id_no to a set use &#39;enumerate&#39; to create seq_no &quot;&quot;&quot;</span>
</span><span class='line'>  <span class="n">quorum</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">for</span> <span class="n">id_no</span><span class="p">,</span> <span class="n">seq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">seqs</span><span class="p">):</span>
</span><span class='line'>      <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">-</span><span class="n">mlen</span><span class="p">):</span>
</span><span class='line'>          <span class="n">quorum</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">+</span><span class="n">mlen</span><span class="p">]]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">id_no</span><span class="p">)</span>
</span><span class='line'>          
</span><span class='line'>  <span class="k">return</span> <span class="n">quorum</span>
</span></code></pre></td></tr></table></div></figure>


<p>Function 5
adds a twist, which is to have an enumerate to set the sequence range
(motif/word width) start and stop. This way the window is sliding based
on the tuple created by the enumerate method and not on the slicing that
were used in all other functions. Again, a <code>defaultdict</code> is initialized as
set and the sequence numbers are generated by an enumerate.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">get_quorums_05</span><span class="p">(</span><span class="n">seqs</span><span class="p">,</span> <span class="n">mlen</span><span class="p">):</span>
</span><span class='line'>  <span class="sd">&quot;&quot;&quot; add seq id_no to a set use &#39;enumerate&#39; to create seq_no use enumerate(range(...)) </span>
</span><span class='line'><span class="sd"> to create start/stop indices for motif &quot;&quot;&quot;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="n">quorum</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
</span><span class='line'>  <span class="k">for</span> <span class="n">id_no</span><span class="p">,</span> <span class="n">seq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">seqs</span><span class="p">):</span>
</span><span class='line'>      <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">mlen</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">))):</span>
</span><span class='line'>          <span class="n">quorum</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">s</span><span class="p">:</span><span class="n">e</span><span class="p">]]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">id_no</span><span class="p">)</span>
</span><span class='line'>          
</span><span class='line'>  <span class="k">return</span> <span class="n">quorum</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/21/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/19/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/02/23/scientists-are-human-beings/">Scientists are human beings</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/16/a-plea-to-mankind-news-outlets-and-even-scientists/">A plea to mankind, news outlets and even scientists</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/15/there-are-idiots-everywhere/">There are idiots everywhere &#8230;</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/10/bioconductor/">Bioconductor</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/02/09/theres-dumb-and-theres/">There&#8217;s dumb, and there&#8217;s &#8230;</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/nuin">@nuin</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'nuin',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("nuin", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/nuin" class="twitter-follow-button" data-show-count="false">Follow @nuin</a>
  
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/nuin?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/nuin">My Delicious Bookmarks &raquo;</a></p>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Paulo Nuin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'nuin';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
